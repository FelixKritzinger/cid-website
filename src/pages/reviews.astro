---
// reviews.astro
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout title="Reviews" description="Client testimonials for Collaborative Interior Design.">
  <style>

  @font-face {
    font-family: 'MontserratItalic';
    src: url('/fonts/Montserrat-Italic.woff2') format('woff2');
    font-weight: 300;
    font-style: normal;
    font-display: swap;
  }

  @font-face {
    font-family: 'MontserratRegular';
    src: url('/fonts/Montserrat-Regular.woff2') format('woff2');
    font-weight: 300;
    font-style: normal;
    font-display: swap;
  }

    .reviews-page {
      max-width: 90vw;
      margin: 2rem 0rem;
      padding: 2rem;
      border-radius: 0;
      text-align: left;
      font-family: 'MontserratRegular', sans-serif;
    }

    .reviews-page h1 {
      font-size: clamp(.25rem, 2*(.6rem + .35dvw + .2dvh), 4.25rem);
      font-weight: 300;
      letter-spacing: 0.1em;
      margin-bottom: 3rem;
      text-align: left;
    }

    .review {
      margin-bottom: 2rem;
      text-align: left;
      max-width: 80vw;
    }

    .reviewer {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-weight: bold;
      font-size: 1.2rem;
    }

    .stars-inline {
      color: #f5c518;
      font-size: 1.2rem;
    }

    .review-text {
      font-size: clamp(.25rem, (.6rem + .35dvw + .2dvh), 4.25rem);
      line-height: 1.6;
      color: #333;
      overflow: hidden;
      transition: height 0.5s ease;
      position: relative;
      font-family: 'MontserratItalic', sans-serif;
    }

    .review-text p {
      margin-bottom: 0rem;
    }


    .review-text.collapsed::after {
      content: "";
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 3rem;
      background: linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(255,255,255, 0.85) 100%);
      pointer-events: none;
    }

    .review-date {
      font-size: 0.8rem;
      color: #777;
      margin-top: 0.5rem;
      font-style: italic;
    }


    .read-more-btn {
      background: none;
      border: none;
      color: #000;
      font-family: 'MontserratRegular', sans-serif;
      cursor: pointer;
      margin-top: 0.45rem;
      font-size: 1.1rem;
      font-weight: 600;
      user-select: none;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }

    .review-divider {
      width: 100%;
      margin: 2rem auto;
      border: none;
      border-top: 1px solid #ccc;
    }


    .arrow-icon {
      transition: transform 0.3s ease;
      display: inline-block;
    }

    .arrow-icon.rotate {
      transform: rotate(-180deg);
    }
  </style>

  <section class="reviews-page">
    <h1>CLIENT TESTIMONIALS</h1>

    <div class="review">
      <div class="reviewer">
        <span>Tracey M</span><span class="stars-inline">★★★★★</span>
      </div>
      <div class="review-text collapsed" id="McKenna">
        <p>We couldn't be happier with the outcome of our new home. Building a home is such a complex and taxing process. Sandy was instrumental in helping with the design and build our custom home. 
        She was always there any time of day or weekend to help us move forward and assist us with every detail. Our builder had an aggressive timeframe, and making builder selections on time and within budget was a priority. </p> 
        <p>Sandy also took the time to understand our preferred style. Her creativity and eye for detail made the entire project come together beautifully, and she managed to get ahead of as many of the supply chain issues as possible so that we could function in our new home right after we moved in.</p> 
        <p>She was an absolute pleasure to work with and extremely organized and on point. We highly recommend Sandy for any project. We LOVE our new home!!</p>
      </div>
      <button class="read-more-btn" data-target="McKenna">
        <span class="button-text">Read more</span>
        <svg class="arrow-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="6 9 12 15 18 9" />
        </svg>
      </button>
      <hr class="review-divider" />
    </div>

    <div class="review">
      <div class="reviewer">
        <span>Joye H</span><span class="stars-inline">★★★★★</span>
      </div>
      <div class="review-text collapsed" id="Huseby">
        <p>Full indoor and outdoor renovation, refinishing hardwood floors, replacing all interior trim, lighting, 
        staircase, refinishing kitchen island, replacing carpeting, three full-bath remodels,  interior finishes and fixtures, full furnishing and window treatments etc, and a complete outdoor living space addition, 
        outdoor living room, open deck area, outdoor kitchen, and landscaping.  </p> 
        <p>Exceptional experience working the Sandy.  Her attention to detail is unsurpassed.   Sandy is super easy to work with.  Her communication is great.  We worked very closely on my project for several months.  
        She is fully committed to making sure the client gets what they want.  Sandy has a knack for being able to customize most anything to fit certain spaces perfectly.  Would highly recommend her.   </p> 
      </div>
      <button class="read-more-btn" data-target="Huseby">
        <span class="button-text">Read more</span>
        <svg class="arrow-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="6 9 12 15 18 9" />
        </svg>
      </button>
      <hr class="review-divider" />
    </div>


    <div class="review">
      <div class="reviewer">
        <span>Jean R</span><span class="stars-inline">★★★★★</span>
      </div>
      <div class="review-text collapsed" id="Rupprecht">
        <p>Sandy was wonderful to work with from beginning of our house remodel project until the end.  She was responsive to phone calls/emails/texts and always projected a calm confidence that made the whole process much easier to live through.  She was professional and we could count on her showing up at our house whenever she was scheduled to.   She was also flexible when I requested a couple changes to our original plan (which I asked for early enough in the process that things could still be changed out.)  </p> 
        <p>All in all, I would highly recommend Sandy and would be pleased to work with her again in the future.</p>  
      </div>
      <button class="read-more-btn" data-target="Rupprecht">
        <span class="button-text">Read more</span>
        <svg class="arrow-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="6 9 12 15 18 9" />
        </svg>
      </button>
      <hr class="review-divider" />
    </div>

    <div class="review">
      <div class="reviewer">
        <span>Daniel L</span><span class="stars-inline">★★★★★</span>
      </div>
      <div class="review-text collapsed" id="Leszkowicz">
        <p>In case the following review is too lengthy, I’ll sum it up by saying that working with Sandy was a pleasure, and the finished product is beyond my expectations.</p> 
        <p>I worked with Sandy on the design/renovation of my newly-purchased lake house.  It was built in 1969, stood at around 2,800 square feet, and had 5 beds, 3 baths.  
        In short, it needed to be nearly gutted and redone.  I hired Sandy due largely to the style of some of her past projects being quite similar to what I had in mind.  
        Specifically, I was shooting for a rustic/industrial mix, and liked the work she had done along those lines.  Many other designers in the area seemed to have a style that would result more in a cookie cutter suburb-looking house that just happened to be located on a lake, 
        and less in the cozy and peaceful retreat that paid tribute to the surrounding nature vibe (which was my end goal).  Additionally, I found her pricing to be competitive and fair.  
        Finally, as her company’s name suggests, her process is a collaborative one.  I wanted to take part in the design process, rather than blindly hand decisions over to someone and then just cut the check.  
        I learned more about tile and flooring and paint and bedding and light fixtures and so on… than I ever expected to know.  
        But it resulted in our playing complementary roles in the partnership, and probably in both of our feeling as if we built the house with our own hands.</p>  
        <p>Sandy’s value came from three main factors.  First, most obviously, was the design aptitude and experience.  Part of the reason I hired a designer, was to push me out of my comfort zone, and prevent everything from ending up a typical male-chosen brown or grey.  
        Sandy delivered, challenging me here and there, and presenting ideas that added interest to the house, while still respecting my style.  She demonstrated excellent attention to detail and sense for the space and the vision, even accounting for how the individual elements would play off of each other, 
        to form the full effect.  Also, as part of that style and design guidance, she was able to provide recommendations that maximized the impact of my reno budget.  For example, she advised on where putting extra money into higher-end finishes (reclaimed wood, for instance) 
        would make a significant impact and create a “wow factor”.  And conversely, she was able to steer me toward “standard” options in other areas that would be less impactful and didn’t require the extra investment.  
        Second, she was able to help me arrive at conclusions that, without her, would have taken hours upon hours of googling, and would still lack practical knowledge.  For example, she has a band of vendors that she trusts, and they do good work.  
        At the outset of my project, I was insistent upon calling several options, pricing them out, looking at reviews, etc.  But it wasn’t scalable for me to do that across the board, and it wouldn’t even necessarily result in the best decision.  
        By the end of the project, I was jumping at the chance to just roll with one of her recommendations.  There’s significant value in that network, and in not having to agonize over vendor selection.  Finally, she was helpful in guiding me through the process.  
        This was my first property, and definitely my first renovation.  And with a full-time job keeping me busy, I was only able to learn so quickly on the fly.  
        She was gracious in walking me through what factors I should consider, and in anticipating questions and decisions that would need to be addressed.  
        And she was also able to handle the tactical items (confirming specs with vendors, asking clarifying questions, etc.) that I either wouldn’t have had the time to do, or wouldn’t have thought to do.</p>
        <p>Lastly, I’ll say that I work in consulting, where we often evaluate team members via the theoretical airport test.  That is – if you were stuck in an airport for hours with this person, would you be ok with it, or would you pray for it to be over (out of boredom/frustration/whatever).  
        I can say that I thoroughly enjoyed working with Sandy.  I looked forward to our meetings, and the discovery/decision processes that unfolded; and I always walked away feeling like we accomplished a lot.  
        So, I would be fine getting stuck in an airport with her.  As long as she doesn’t make me look at any more tile samples ever again. ;)</p>
      </div>
      <button class="read-more-btn" data-target="Leszkowicz">
        <span class="button-text">Read more</span>
        <svg class="arrow-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="6 9 12 15 18 9" />
        </svg>
      </button>
      <hr class="review-divider" />
    </div>

    

    <div class="review">
      <div class="reviewer">
        <span>Karen W</span><span class="stars-inline">★★★★★</span>
      </div>
      <div class="review-text collapsed" id="Wandel">
        <p>We turned our entire house over to Collaborative Interior Design. (Seriously!) We built our home 18 years ago. We love our location and neighbors, but the house needed refreshing after years of wear and tear from our active family.  
        We didn’t have the expertise to pull off a cohesive plan, and frankly didn’t have the time.</p> 
        <p>Sandy took care of everything.  She helped us pick a beautiful, modern color palette, and created a design plan that greatly enhanced the look and function of our home.  
        She found high quality flooring, carpeting, cabinets, fixtures, furniture and accessories for our project. Due to her extensive list of contacts, we were able to contract with the best craftsmen and tradespeople in the area. </p>  
        <p>Our kitchen is a cook’s dream. Our bathrooms are gorgeous, spacious and bright. The teenagers have fun, functional spaces that highlight their individuality and creativity. 
        Our new family room beautifully accommodates large functions and smaller gatherings. She even transformed the exterior with a new front door, planters and carriage lights. </p>
        <p>Sandy is a talented designer and an astute project manager. She was easy to work with and completed our (huge) project on time and under budget.</p>
      </div>
      <button class="read-more-btn" data-target="Wandel">
        <span class="button-text">Read more</span>
        <svg class="arrow-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="6 9 12 15 18 9" />
        </svg>
      </button>
      <hr class="review-divider" />
    </div>

    <div class="review">
      <div class="reviewer">
        <span>Polly W</span><span class="stars-inline">★★★★★</span>
      </div>
      <div class="review-text collapsed" id="Webb">
        <p>I built a new home completed in October of 2016 and wanted to finish it after the one year warranty time was up.  I had moved belongings from both a suburban home and a northern lake house and wanted to make the furnishings all fit together, which, with painting, required a whole house redo.  
        Sandy was just the ticket.  She is professional, knowledgeable, and so creative.  Where I saw blank space, she saw a vision.  Her ideas were in sync with mine and she always had the right person or resource to turn to to complete a task.  
        The project from start to finish seemed to complete so quickly and I'm thrilled with my new home. Oh, and she's really warm with a wonderful sense of humor.  You can't go wrong.</p> 
      </div>
      <button class="read-more-btn" data-target="Webb">
        <span class="button-text">Read more</span>
        <svg class="arrow-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="6 9 12 15 18 9" />
        </svg>
      </button>
      <hr class="review-divider" />
    </div>

    <div class="review">
      <div class="reviewer">
        <span>John P</span><span class="stars-inline">★★★★★</span>
      </div>
      <div class="review-text collapsed" id="Paxton">
        <p>I could not be happier with the work Sandy did on my new place....Shes a true pro that is always punctual and really worked to make sure I understood my options while always making sure I was getting the most for the money.  
        The place looks awesome...very creative.  Its a place now that I can show off.  I highly recommend Sandy!!</p> 
        <p> Very pleased!</p>
      </div>
      <button class="read-more-btn" data-target="Paxton">
        <span class="button-text">Read more</span>
        <svg class="arrow-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="6 9 12 15 18 9" />
        </svg>
      </button>
      <hr class="review-divider" />
    </div>

    <div class="review">
      <div class="reviewer">
        <span>Dan M</span><span class="stars-inline">★★★★★</span>
      </div>
      <div class="review-text collapsed" id="McDonough">
        <p>I started a whole-house remodel on South Street in Davidson and quickly realized the need for interior design. 
        My architect recommended Collaborative Interior Design. Sandy managed all the details from paint to flooring to fixtures and has a great understanding of the construction process. 
        She was always available at on-site meetings, at the various vendors to hand pick materials, and ad hoc when questions arose. 
        Details are so important to a home and Sandy nailed it. I am thrilled with the outcome.</p>
      </div>
      <button class="read-more-btn" data-target="McDonough">
        <span class="button-text">Read more</span>
        <svg class="arrow-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="6 9 12 15 18 9" />
        </svg>
      </button>
    </div>

    <div class="review">
      <div class="reviewer">
        <span>Dee J</span><span class="stars-inline">★★★★★</span>
      </div>
      <div class="review-text collapsed" id="James">
        <p>Sandy did an outstanding job with an update on our old home (which we reviewed in 2018) so when it came time to select someone to help us with our next project - 
        designing our new home from the ground up - we immediately turned to Sandy again. 
        She is the consummate professional who combines her passion for design with her genuine desire to help you achieve your dream. 
        She has extensive knowledge of the entire construction process so was invaluable to us from the initial meetings with our architect to working with our builder to making all of our design 
        selections. She was a true partner, listening to us and working hard to help us articulate our vision and then to bring that vision to reality. 
        As we had never been through a new home build and design process before, we 'didn't know what we didn't know' and her input and advice made all the difference. 
        She kept us on track, making sure our builder was never waiting on us to make a decision and ordering furniture and design elements on a schedule that kept our transportation 
        and storage costs to a minimum but also had us 'ready' for our move-in day. Sandy treated our project as a true labor of love and we will forever be grateful for the time and effort 
        she put into helping us create our dream home.....it's even better than we had imagined!</p>
      </div>
      <button class="read-more-btn" data-target="James">
        <span class="button-text">Read more</span>
        <svg class="arrow-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="6 9 12 15 18 9" />
        </svg>
      </button>
    </div>


  </section>

  <script>
    document.querySelectorAll('.read-more-btn').forEach(button => {
      const reviewId = button.getAttribute('data-target');
      const reviewText = document.getElementById(reviewId);
      const arrow = button.querySelector('.arrow-icon');
      const text = button.querySelector('.button-text');

      const collapsedHeight = 120; // px
      reviewText.style.height = collapsedHeight + 'px';

      button.addEventListener('click', () => {
        const isCollapsed = reviewText.classList.contains('collapsed');

        if (isCollapsed) {
          const fullHeight = reviewText.scrollHeight + 'px';
          reviewText.style.height = fullHeight;
          reviewText.classList.remove('collapsed');
          text.textContent = 'Read less';
          arrow.classList.add('rotate');

          setTimeout(() => {
            reviewText.style.height = 'auto';
          }, 500);
        } else {
          const currentHeight = reviewText.scrollHeight + 'px';
          reviewText.style.height = currentHeight;

          requestAnimationFrame(() => {
            reviewText.style.height = collapsedHeight + 'px';
            reviewText.classList.add('collapsed');
            text.textContent = 'Read more';
            arrow.classList.remove('rotate');
          });
        }
      });
    });

    
    // Function to open a specific review by ID
    function openReviewById(id) {
      const reviewText = document.getElementById(id);
      const button = document.querySelector(`.read-more-btn[data-target="${id}"]`);
      const arrow = button?.querySelector('.arrow-icon');
      const text = button?.querySelector('.button-text');

      if (reviewText && button && reviewText.classList.contains('collapsed')) {
        const fullHeight = reviewText.scrollHeight + 'px';
        reviewText.style.height = fullHeight;
        reviewText.classList.remove('collapsed');
        text.textContent = 'Read less';
        arrow.classList.add('rotate');

        setTimeout(() => {
          reviewText.style.height = 'auto';
        }, 500);
      }

      // Smooth scroll to the review
      if (reviewText) {
        const offset = -250; // adjust this to leave more/less space above
        const top = reviewText.getBoundingClientRect().top + window.scrollY + offset;
        window.scrollTo({ top, behavior: 'smooth' });
      }

    }

    // On page load, check for a hash in the URL
    window.addEventListener('DOMContentLoaded', () => {
      const hash = window.location.hash.substring(1); // Remove the '#'
      if (hash) {
        // Delay a bit to allow layout rendering
        setTimeout(() => {
          openReviewById(hash);
        }, 300);
      }
    });

  </script>
</BaseLayout>
